{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05D0\\u05EA\\u05E8\\u05D0\\\\Desktop\\\\LeaderFinalProject-master\\\\react\\\\src\\\\components\\\\Tasks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { actions } from '../Redux/Store/actions';\nimport { Link, withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.userReducer.user\n  };\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addTask: task => dispatch(actions.addTask(task))\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(_s(function Tasks(props) {\n  _s();\n\n  const [tasksArr, setTasksArr] = useState([]);\n  const {\n    user,\n    addTask,\n    history\n  } = props;\n  useEffect(() => {\n    fetch('https://jsonplaceholder.typicode.com/todos').then(response => response.json()).then(jsonData => {\n      setTasksArr(jsonData);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n\n  function addTaskFunc(x) {\n    const data = {\n      userId: user.id,\n      task: x\n    };\n    fetch(\"http://localhost:3001/addTask\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": localStorage.getItem('user')\n      },\n      body: JSON.stringify(data)\n    }).then(res => {\n      if (res.status === 401) history.push('/error');else return res.json();\n    }).then(res => {\n      addTask(res.task);\n      alert(\"The task was successfully added\");\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/tasksToUser\",\n      children: \"Show all my tasks/ Add a new task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 77\n    }, this), tasksArr.map((x, k) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        width: '18rem',\n        display: \"inline-block\",\n        margin: '2vw'\n      },\n      \"data-toggle\": \"tooltip\",\n      \"data-placement\": \"right\",\n      title: \"click me for view product\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \".bd-example-modal-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Number of task: \", k + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          style: {\n            height: '4rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 77\n          }, this), \" \", x.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"completed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 50\n          }, this), \" \", x.completed.toString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          margin: '1vh'\n        },\n        className: \"btn btn-info\",\n        onClick: e => addTaskFunc(x),\n        children: \"Add task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)]\n    }, k, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true);\n}, \"H+fDDUHIVFs4itQyfBKgWRLdt6k=\")));","map":{"version":3,"sources":["C:/Users/אתרא/Desktop/LeaderFinalProject-master/react/src/components/Tasks.js"],"names":["React","useEffect","useState","connect","actions","Link","withRouter","mapStateToProps","state","user","userReducer","mapDispatchToProps","dispatch","addTask","task","Tasks","props","tasksArr","setTasksArr","history","fetch","then","response","json","jsonData","catch","error","console","addTaskFunc","x","data","userId","id","method","headers","localStorage","getItem","body","JSON","stringify","res","status","push","alert","err","log","map","k","width","display","margin","height","title","completed","toString","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { actions } from '../Redux/Store/actions';\r\nimport { Link,withRouter } from 'react-router-dom';\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userReducer.user\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    addTask: (task) => dispatch(actions.addTask(task)),\r\n})\r\nexport default withRouter( connect(mapStateToProps, mapDispatchToProps)(function Tasks(props) {\r\n    const [tasksArr, setTasksArr] = useState([])\r\n    const { user, addTask,history } = props;\r\n    useEffect(() => {\r\n        fetch('https://jsonplaceholder.typicode.com/todos')\r\n            .then(response => response.json())\r\n            .then((jsonData) => {\r\n                setTasksArr(jsonData)\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n    }, [])\r\n    function addTaskFunc(x) {\r\n        const data = { userId: user.id, task: x }\r\n        fetch(\"http://localhost:3001/addTask\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": localStorage.getItem('user')\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(res => {\r\n                if (res.status === 401)\r\n                    history.push('/error');\r\n                else\r\n                    return res.json()\r\n            }).then((res) => {\r\n                addTask(res.task);\r\n                alert(\"The task was successfully added\");\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    return (\r\n        <>\r\n            <Link to='/tasksToUser'>Show all my tasks/ Add a new task</Link><br></br>\r\n            {tasksArr.map((x, k) => (\r\n                <div className=\"card\" style={{ width: '18rem', display: \"inline-block\", margin: '2vw' }} key={k} data-toggle=\"tooltip\" data-placement=\"right\" title=\"click me for view product\">\r\n                    <div className=\"card-body\" data-toggle=\"modal\" data-target=\".bd-example-modal-sm\">\r\n                        <h5 className=\"card-title\"><b>Number of task: {k + 1}</b></h5>\r\n                        <p className=\"card-text\" style={{ height: '4rem' }}><b>title:</b> {x.title}</p>\r\n                        <p className=\"card-text\"><b>completed:</b> {x.completed.toString()}</p>\r\n                    </div>\r\n                    <button style={{ margin: '1vh' }} className=\"btn btn-info\" onClick={(e) => addTaskFunc(x)}>Add task</button>\r\n                </div>\r\n            ))}\r\n        </>\r\n    )\r\n}))"]},"metadata":{},"sourceType":"module"}